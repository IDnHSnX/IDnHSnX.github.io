<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="refresh" content="10">
    <meta name="viewport" content="width=device-width, initial-scale=0.75, maximum-scale=2.0, user-scalable=yes"/>
    <canvas class="fireworks" style="position:fixed;left:0;top:0;z-index:99999999;pointer-events:none;"></canvas>
    <script src="https://cdn.zxki.cn/js/baozha/baozha1.js"></script>
    <script src="https://cdn.zxki.cn/js/baozha/baozha2.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.js"></script>
    <script src="https://l2dwidget.js.org//lib/L2Dwidget.min.js"></script>
    <script type="text/javascript">
        if (!!window.ActiveXObject || "ActiveXObject" in window) {
            alert('请抛弃万恶的IE浏览器吧！更换浏览器访问本网站呢……');
        }
    </script>
    <title>赠你一句话</title>
    <style>
        .full{
            background-color: whitesmoke;
            filter:alpha(Opacity=60);-moz-opacity:0.6;opacity: 0.6;
            position: relative;
            color: #000000;
            z-index: 1;
            margin-top: 35vh;
            margin-bottom: 35vh;
            margin-left: auto;
            margin-right: auto;
        }
        .bracket {
            font-size: 30px;
        }
        .bracket.left {
            position: absolute;
            left: 0;
            top: 0;
        }
        .bracket.right {
            position: absolute;
            right: 0;
            bottom: 0;
        }
        .word {
            font-size: 2.3rem;
            text-align: center;
            line-height: 50px;
            word-break: normal;
            margin: 0;
            padding: 15px 50px;
        }
        .author {
            background-color: whitesmoke;
            filter:alpha(Opacity=90);
            font-size: 20px;
            color: #000000;
            float: right;
            margin-top: 40px;
        }
        div {
            display: block;
        }
        a{
            text-decoration:none;
            color: black;
        }
    </style>
</head>
<body style="background-repeat:no-repeat;
background-attachment:fixed;background-size:cover;
background-image: url(https://source.unsplash.com/random);">
  <div id="page_end_html">
    <script src="https://l2dwidget.js.org//lib/L2Dwidget.min.js"></script>
    <script type="text/javascript">
        L2Dwidget
            .on('*', (name) => {
                console.log('%c EVENT ' + '%c -> ' + name, 'background: #222; color: yellow', 'background: #fff; color: #000')
            })
            .init({
                dialog: {
                    enable: true,
                    script: {
                        'every idle 5s': '$hitokoto$',
                        'hover .star': '星星在天上而你在我心里 (*/ω＼*)',
                        'tap body': '哎呀！别碰我！',
                        'tap face': '人家已经不是小孩子了！'
                    }
                },
                "model": {
                    jsonPath: "https://unpkg.com/live2d-widget-model-z16@1.0.5/assets/z16.model.json",
                },
                "display": {
                    "position": "left",
                    "width": 170,
                    "height": 300,
                    "hOffset": 40,
                    "vOffset": -20
                },
                "mobile": {
                    "show": true,
                    "scale": 1
                },
                "react": {
                    "opacityDefault": 0.7,
                    "opacityOnHover": 0.2
                }
            });
    </script>
</div>
    <div id="hitokoto" class="full">
        <div class="bracket left">『
        </div>
        <a href="javascript:location.reload();">
            <div class="word" id="hitokoto_text">
            </div>
        </a>
        <div class="bracket right">』
        </div>
        <div class="author" id="hitokoto_author">
        </div>
    </div>
</body>
<script>
    if(!window.sessionStorage.getItem('storge')){undefined
        alert("能来到这儿的都有一个有趣的灵魂（OvO）");
        alert("欢迎你，陌生人");
        alert("你可以点击文字或者等待几秒，有什么东西会改变~~");
        window.sessionStorage.setItem('storge','true')

    }
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            const hitokoto = document.getElementById('hitokoto_text');
            hitokoto.innerText = data.hitokoto;
            var author = document.getElementById('hitokoto_author');
            author.innerText = ("—— " + (data.from_who || '') + "「" + data.from + "」");
        })
        .catch(console.error)
    var originTitle = document.title;
        var titleTime;
        document.addEventListener("visibilitychange", function () {
            if (document.hidden) {
                document.title = "崩溃了(╯‵□′）╯︵┴─┴";
                clearTimeout(titleTime);
            } else {
                document.title = "还知道回来？啊？";
                titleTime = setTimeout(function () {
                    document.title = originTitle;
                }, 2000);
            }
        });
</script>
</html>
